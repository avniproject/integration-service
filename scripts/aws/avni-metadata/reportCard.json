[ {
  "uuid" : "7f22bdcb-c33d-4140-84d7-8acc83c7021f",
  "id" : 6531,
  "name" : "VHW followup Overdue",
  "description" : "",
  "color" : "#c1e1ef",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "71e1f484-ed45-41d6-b80b-2c5d94122aa6" ],
  "voided" : false
}, {
  "uuid" : "d3c179d8-7e9e-4586-9122-11ca730c8b2b",
  "id" : 1288,
  "name" : "No of deliveries",
  "query" : "'use strict';\n({params, imports}) => {\n    const DeliveryCheck = (enrolment) => {\n        const deliveryEnc = enrolment.getEncountersOfType('Delivery');\n        const deliveryEncThisMonth = deliveryEnc\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM'));\n    const deliveryEncThisYear = deliveryEnc\n    .filter((e) => imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return deliveryEncThisYear.length >  0 && deliveryEncThisMonth.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Delivery' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && DeliveryCheck(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "c0b3bc52-c54c-406a-a74d-1be5035fe05a",
  "id" : 1275,
  "name" : "No of referrals. (voided~1275)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    const DeliveryCheck= (enrolment) => {\n        const deliveryEnc = enrolment.getEncountersOfType('Hypertension Followup');\n        return _.isMatch(deliveryEnc);\n    }\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Hypertension Followup' and encounterDateTime > $0 and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension' && DeliveryCheck(enrolment) && enrolment.programExitDateTime == null ))\n};",
  "description" : "No of referrals for current month.",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : true
}, {
  "uuid" : "854c2f48-cf84-4265-8350-e08931c80cc4",
  "id" : 1261,
  "name" : "New patients for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Tuberculosis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "753ec903-7f09-4bc9-a053-6d2f73231ff1",
  "id" : 1262,
  "name" : "New patients for Mental Illness",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Mental Illness'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "822e11f1-acb2-4800-a424-01f2dba3db51",
  "id" : 7071,
  "name" : "Recent Screening visits 7 days",
  "query" : "({params, imports}) => {\n    let addressValue = null;\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type === \"Address\");\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n    }\n\n    let query = 'voided = false';\n    if (addressValue != null && addressValue.length > 0) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        query += ` AND individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    let sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n\n    return params.db.objects('Encounter')\n        .filtered(`individual.voided = false AND individual.subjectType.name = 'Individual' AND voided = false AND encounterType.name = 'Eye screening form' AND encounterDateTime != null AND encounterDateTime >= $0`, sevenDaysAgo)\n        .filtered(query)\n        .map(enc => enc.individual);\n}",
  "description" : "",
  "color" : "#00ffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "47187c4f-69ac-47cb-9991-9e0ab80c1ad2",
  "id" : 7072,
  "name" : "Recent Eye Screening 30 days",
  "query" : "({params, imports}) => {\n    let addressValue = null;\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type === \"Address\");\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n    }\n\n    let query = 'voided = false';\n    if (addressValue != null && addressValue.length > 0) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        query += ` AND individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    let thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n\n    return params.db.objects('Encounter')\n        .filtered(`individual.voided = false AND individual.subjectType.name = 'Individual' AND voided = false AND encounterType.name = 'Eye screening form' AND encounterDateTime != null AND encounterDateTime >= $0`, thirtyDaysAgo)\n        .filtered(query)\n        .map(enc => enc.individual);\n}",
  "description" : "Recent Eye Screening 30 days",
  "color" : "#b260cf",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6085c2f4-52e7-4b08-85b6-d6b2612b4cf5",
  "id" : 6329,
  "name" : "Scheduled visits",
  "color" : "#388e3c",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "85ce7239-e8b5-4e57-b07d-66c18cee47b2",
  "id" : 6330,
  "name" : "Overdue visits",
  "color" : "#d32f2f",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a1673f8a-c394-4bcf-8b6f-63d83a5443e2",
  "id" : 6331,
  "name" : "Total",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "1fbcadf3-bf1a-439e-9e13-24adddfbf6c0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f366f35a-5c4f-4ff7-b510-2dc9f5f88847",
  "id" : 6332,
  "name" : "Recent registrations",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "88a7514c-48c0-4d5d-a421-d074e43bb36c",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "e1036b69-df46-4351-9916-10cd4cfcb6bd",
  "id" : 6333,
  "name" : "Recent enrolments",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "a5efc04c-317a-4823-a203-e62603454a65",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "dd961ee1-9d4e-4ec9-99f0-99b36672be7c",
  "id" : 6334,
  "name" : "Recent visits",
  "color" : "#ffffff",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "77b5b3fa-de35-4f24-996b-2842492ea6e0",
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "standardReportCardInputRecentDuration" : "{\"value\":\"1\",\"unit\":\"days\"}",
  "voided" : false
}, {
  "uuid" : "272b871d-d241-4a63-99aa-ca502dfd04c0",
  "id" : 302,
  "name" : "Registered but not enrolled",
  "query" : "'use strict';\n({params, imports}) => {\n    return params.db.objects('Individual')\n        .filter((individual) => individual.voided === false && individual.getEntityTypeName() === 'Individual' && individual.hasEnrolments === 0)\n};",
  "description" : "",
  "color" : "#3e73be",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "9f473ac8-d88e-4349-a9d8-e027dccfd309",
  "id" : 1234,
  "name" : "New patients for Asthma",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Asthma'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "ce748329-e7ff-45fc-9adc-96d9fbc08c1f",
  "id" : 1235,
  "name" : "Total no. of patients for Asthma.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Asthma' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Asthma'  && enrolment.programExitDateTime == null))\n};",
  "description" : "",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f5fecd5a-00f5-4435-9360-3643c5a43105",
  "id" : 1236,
  "name" : "No. of patients exited for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Diabetes'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "9e1817d0-67b0-470c-957a-dec569ddfcf3",
  "id" : 1245,
  "name" : "Total no. of patients for Stroke.",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Stroke' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Stroke'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Stroke.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "1c593b2a-cec3-4097-b581-a33afb572fc5",
  "id" : 1246,
  "name" : "Total no. of patients for Thyroidism.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Thyroidism' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Thyroidism'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Thyroidism.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6ef7c3de-d13d-4c97-95c7-6c2c653cdf60",
  "id" : 1254,
  "name" : "Total no. of patients for Tuberculosis.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Tuberculosis' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Tuberculosis'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Tuberculosis.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "84ccada6-b9b5-4a63-90fa-a8e5c6ea7d7b",
  "id" : 1266,
  "name" : "New patients for Thyroidism",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Thyroidism'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0eba1b5b-5ae4-44f3-aa67-052cd6e6bcad",
  "id" : 1260,
  "name" : "New patients for Heart Disease",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Heart Disease'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "2aff9b9d-605e-4caa-9938-93999368b4db",
  "id" : 1247,
  "name" : "Total no. of patients for Heart Disease.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Heart Disease' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Heart Disease'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Heart Disease.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "c1831c7f-93d9-40e2-b84b-83d199f2180f",
  "id" : 1248,
  "name" : "No. of patients exited for COPD",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'COPD'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "72dac2cc-6996-4feb-8d06-86503d559d09",
  "id" : 1249,
  "name" : "No. of patients exited for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Hypertension'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "9ff927de-e8ee-4477-9d80-8d23e785bf2d",
  "id" : 1250,
  "name" : "No. of patients exited for TB - INH Prophylaxis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'TB - INH Prophylaxis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "aabe39bc-b0de-460f-95dd-49c2a471c70c",
  "id" : 1251,
  "name" : "No. of deaths due to Cancer",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Cancer' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "e645dcfb-0604-4b04-8446-b2841091c30b",
  "id" : 1252,
  "name" : "No. of deaths due to Stroke",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Stroke' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "07d5855f-9511-4d30-a781-2ecf70dc8454",
  "id" : 1253,
  "name" : "No of children for post natal visits",
  "query" : "'use strict';\n({params, imports}) => {\n    const ChildBirth= (enrolment) => {\n        const ChildEnc = enrolment.getEncountersOfType('Child PNC');\n        const ChildEncThisMonth = ChildEnc \n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM'));\n    const ChildEncThisYear = ChildEnc \n    .filter((e) => imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return ChildEncThisYear.length > 0 && ChildEncThisMonth.length > 0 ? true : false;\n    };\n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Child' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Child PNC' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Child' && ChildBirth(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "Number of Child PNC completed in the month",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0ca1dba1-a4c7-4edf-a517-95848de4f71d",
  "id" : 1255,
  "name" : "No. of patients exited for Mental Illness",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Mental Illness'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "b6f9836c-df88-4ad9-bdf7-dbe123c33cad",
  "id" : 1256,
  "name" : "Children in grade III",
  "query" : "'use strict';\n({params, imports}) => {\n    const GradeIII= (enrolment) => {\n      let score = enrolment.findLatestObservationInEntireEnrolment('Weight for age Grade');\n      return !_.isNil(score) ? score.getValue() === 3 : false;\n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && GradeIII(enrolment)))\n};",
  "description" : "Total number of Children in Grade III",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "674134d7-534b-4241-8470-c75ba1e86e29",
  "id" : 1267,
  "name" : "New patients for Cancer",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Cancer'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "50b185ae-206c-4cf6-98c6-a33aad07fdb8",
  "id" : 1258,
  "name" : "Total no. of patients for Sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Sickle cell' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Sickle cell'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Sickle cell",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "b570afa0-6e2e-48df-9890-8594b1354393",
  "id" : 1259,
  "name" : "No. of patients exited for sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Sickle cell'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};    ",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6fc60081-c131-495e-9f53-b119a8804818",
  "id" : 1263,
  "name" : "New patients for sickle cell disease",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Sickle cell'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "d440e5e0-3354-4b60-ad78-f5e6da477615",
  "id" : 1264,
  "name" : "New patients for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries \n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Hypertension'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "ef185368-49f8-4411-b3d9-6473a6b6e8d0",
  "id" : 1265,
  "name" : "Total no. of patients for TB - INH Prophylaxis.",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'TB - INH Prophylaxis' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'TB - INH Prophylaxis'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for TB - INH Prophylaxis.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "b885e838-05c4-4f47-b2be-a390b85028d1",
  "id" : 1231,
  "name" : "No. of deaths due to Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Diabetes' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "cf51b682-a1c8-415b-9d3c-ffb851da5e21",
  "id" : 1232,
  "name" : "Children in grade II",
  "query" : "'use strict';\n({params, imports}) => {\n    const GradeII= (enrolment) => {\n      let score = enrolment.findLatestObservationInEntireEnrolment('Weight for age Grade');\n      return !_.isNil(score) ? score.getValue() === 2 : false;\n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && GradeII(enrolment)))\n};",
  "description" : "Total number of Children in Grade II",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "7c041866-b474-4bdb-b1bd-01d917cfa5a3",
  "id" : 1233,
  "name" : "No. of deaths due to Sickle cell disease",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n\n// This is the query for finding number of deaths due to sickle cell disease for the current month and year.\n// Reason for exit --> '9518f70d-351a-44f0-b3f8-9af412db74af'\n// Anwer to the above question is \"Death\" --> 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8'\n\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Sickle cell' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};\n\n",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "652e1c49-78b6-439b-946a-7d983fab839b",
  "id" : 1237,
  "name" : "No of mothers for post partum visits",
  "query" : "'use strict';\n({params, imports}) => {\n    const MotherPnc= (enrolment) => {\n        const deliveryEnc = enrolment.getEncountersOfType('Mother PNC');\n          const deliveryEncThisMonth = deliveryEnc\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM'));\n            const deliveryEncThisYear = deliveryEnc\n    .filter((e) => imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return deliveryEncThisYear .length > 0 && deliveryEncThisMonth.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Mother PNC' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && MotherPnc(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "Number of Mother PNCs completed in the month",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "4b4cd81c-2006-4dd9-b596-263a0918143f",
  "id" : 1238,
  "name" : "No. of patients exited for Thyroidism",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Thyroidism'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a96ce5fa-f54c-4215-8fbe-eae04becd29f",
  "id" : 1239,
  "name" : "No. of patients exited for Arthritis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Arthritis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "183098dc-513d-4a80-a3bf-30e6d3bb4bc5",
  "id" : 1240,
  "name" : "No. of cancelled visits for sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst canceledVisits= (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Sickle cell' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Sickle cell followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Sickle cell' \n        && canceledVisits(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "cfc073a1-69c5-47d5-a1ba-3d039d6fe7a3",
  "id" : 1241,
  "name" : "Total no. of patients for Epilepsy.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Epilepsy.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "33cf3b20-e4ad-4906-96ca-bb7dac2e9374",
  "id" : 1242,
  "name" : "Total no. of patients for Mental Illness.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Mental Illness' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Mental Illness'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Mental Illness.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "697cd956-77d4-4f72-b228-0a46a3012090",
  "id" : 1243,
  "name" : "No. of patients exited for Asthma",
  "query" : "'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Asthma'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "b03730c8-a748-4b6c-bbf7-0b0b38b78950",
  "id" : 1268,
  "name" : "Total no. of patients for Hypertension",
  "query" : "//'use strict';\n//({params}) => {\n//    console.log(JSON.stringify(params.db.objects('Individual')));\n//    return params.db.objects('Individual');\n//};\n\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension'  && enrolment.programExitDateTime == null))\n};",
  "description" : "",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "b8b674e0-4f1a-4950-9d98-17549dff76ef",
  "id" : 1270,
  "name" : "Number of completed visits",
  "query" : "'use strict';\n({params, imports}) => {\n    const preg= (enrolment) => {\n        const encounters = enrolment.getEncounters(true);\n         const completedEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY') && e.cancelDateTime === null && e.encounterDateTime != null\n    );\n        return completedEncounters.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && preg(enrolment)))\n};",
  "description" : "",
  "color" : "#00ff43",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f14f5bd4-3ffe-43c3-be27-d6d754d2e940",
  "id" : 1271,
  "name" : "No. of deaths due to Mental Illness",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Mental Illness' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "714f70b0-2fa2-40b4-88b3-b232027ba044",
  "id" : 1272,
  "name" : "No of births",
  "query" : "'use strict';\n({params, imports}) => {\n    const ChildBirth= (enrolment) => {\n        const ChildEnc = enrolment.getEncountersOfType('Child Birth');\n        const ChildEncThisMonth = ChildEnc \n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM'));\n          const ChildEncThisYear = ChildEnc \n    .filter((e) => imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return ChildEncThisYear.length > 0 && ChildEncThisMonth .length > 0 ? true : false;\n    };\n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Child Birth' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Child' && ChildBirth(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "5f778156-3fc9-426a-bfeb-fa706efe3daa",
  "id" : 1273,
  "name" : "No. of cancelled visits for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\n\nconst canceledVisits= (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Hypertension Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension' \n        && canceledVisits(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "1a5d5185-4358-4e6b-b055-33ecb5e60245",
  "id" : 1274,
  "name" : "No of pregnant women",
  "query" : "'use strict';\n({params, imports}) => {\n   const deliveryCheck = (enrolment) => {\n        const deliveryEnc = enrolment.getEncountersOfType('Delivery');\n        const abortionEnc = enrolment.getEncountersOfType('Abortion');\n        return _.isEmpty(deliveryEnc) && _.isEmpty(abortionEnc);\n    }\n    return params.db.objects('Individual')\n                .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && deliveryCheck(enrolment) && enrolment.programExitDateTime == null))\n};\n",
  "description" : "Count of women enrolled in pregnancy program with no Delivery encounter filled for them",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "5472e86a-8462-4e6f-a38c-8f98b0c0500e",
  "id" : 1283,
  "name" : "No. of patients exited for Heart Disease",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Heart Disease'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6932845d-fbdc-4280-b976-211d15f0be9a",
  "id" : 1276,
  "name" : "No. of cancelled visits for Epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst canceledVisits= (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Epilepsy followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy' \n        && canceledVisits(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "649d4807-c2a4-4ee4-8266-fdd4789f7655",
  "id" : 1277,
  "name" : "New patients for Epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Epilepsy'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "12c5a81f-11f2-47c7-8e34-25218371ace1",
  "id" : 1278,
  "name" : "New patients for TB - INH Prophylaxis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'TB - INH Prophylaxis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0a7823fd-fb2d-4ce0-8917-a866b682c11c",
  "id" : 1279,
  "name" : "No of child deaths (all)",
  "query" : "'use strict';\n({params, imports}) => {\n\nconst moment = imports.moment;\n\n    const dateOfDeath = (enrolment) => {\n\n        const dateOfChildsDeathFromExit = enrolment.findExitObservation('Date of Death');\n\n        if ( moment().format('MM-YYYY') === moment(dateOfChildsDeathFromExit.getReadableValue()).format('MM-YYYY') ) {\n            return true;\n        }\n\n    }\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Child' and  SUBQUERY($enrolment.programExitObservations, $observation, $observation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($observation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0 and $enrolment.voided = false and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Child' && dateOfDeath(enrolment) && enrolment.programExitDateTime != null))\n};",
  "description" : "No of Children died in the month (within 5 years)",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a69ee3f3-1bf2-4052-b541-096e0336f4bf",
  "id" : 1280,
  "name" : "Number of cancelled visits",
  "query" : "'use strict';\n({params, imports}) => {\n    const preg= (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && preg(enrolment)))\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0c2da478-3ec9-494f-a723-2a6a58acc70c",
  "id" : 1281,
  "name" : "New patients for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Diabetes'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "2d77b95b-18d7-4f1a-9c35-f2990d8c93da",
  "id" : 1282,
  "name" : "Lab visits due",
  "query" : "'use strict';\n({params, imports}) => {\n    const preg= (enrolment) => {\n        const labENC= enrolment.scheduledEncountersOfType('Lab Investigations');\n         const labEncThisMonth = labENC\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.earliestVisitDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null\n    );\n       \n        return labEncThisMonth.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Lab Investigations' and $encounter.cancelDateTime = null and  $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && preg(enrolment)))\n};",
  "description" : "No of Lab visits due for month and not completed",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "d9f4faea-46a9-461a-8185-427efbcd8826",
  "id" : 1284,
  "name" : "No. of patients exited for Stroke",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Stroke'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "1cbd6d2a-413a-4148-93fe-f6ae6cc8e7f1",
  "id" : 1285,
  "name" : "No. of referrals for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().format('YYYY-MM') == imports.moment(e.encounterDateTime).format('YYYY-MM'))\n    .value();\nvar ansArray = [];\ncurrentMonthEnc.forEach((e) => {\n    const status = e.getObservationReadableValue('Does patient require referral');\n    if (status) {\n        if (status == \"Yes\") {\n            ansArray.push('Yes');\n        }else {\n           ansArray.push('NO');\n        }\n    }\n   });\n              \n        return ansArray ? (!_.includes( ansArray,'NO') && !_.isEmpty(ansArray)) : false;\n    };\n\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Diabetes' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Diabetes Followup' and $encounter.voided = false and SUBQUERY($encounter.observations, $observation, $observation.concept.uuid = '7583d0ca-15c6-4e4a-9cd3-acfaca7e7b6d').@count > 0).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Diabetes' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "62531360-ea1d-454c-b808-61b94886ae8f",
  "id" : 1287,
  "name" : "No. of referrals for sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().format('YYYY-MM') == imports.moment(e.encounterDateTime).format('YYYY-MM'))\n    .value();\nvar ansArray = [];\ncurrentMonthEnc.forEach((e) => {\n    const status = e.getObservationReadableValue('Does patient require referral');\n    if (status) {\n        if (status == \"Yes\") {\n            ansArray.push('Yes');\n        }else {\n           ansArray.push('NO');\n        }\n    }\n   });\n              \n        return ansArray ? (!_.includes( ansArray,'NO') && !_.isEmpty(ansArray)) : false;\n    };\n\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Sickle cell' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Sickle cell followup' and $encounter.voided = false and SUBQUERY($encounter.observations, $observation, $observation.concept.uuid = '7583d0ca-15c6-4e4a-9cd3-acfaca7e7b6d').@count > 0).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Sickle cell' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8273fcb7-e396-426e-8b73-a0f74ccf0319",
  "id" : 1304,
  "name" : "No. of deaths due to Thyroidism",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Thyroidism' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "1b481da4-53c1-49d5-b4c6-19104538b9ac",
  "id" : 1289,
  "name" : "ANC visits due",
  "query" : "'use strict';\n({params, imports}) => {\n    const preg= (enrolment) => {\n        const ancENC= enrolment.scheduledEncountersOfType('ANC Clinic Visit');\n         const ancEncThisMonth = ancENC\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.earliestVisitDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null\n    );\n       \n        return ancEncThisMonth.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'ANC Clinic Visit' and $encounter.cancelDateTime = null and  $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && preg(enrolment)))\n};",
  "description" : "No of ANC visits scheduled for month",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0125e8b9-4556-4367-95bd-31bd7d10c5f1",
  "id" : 1290,
  "name" : "No. of cancelled visits for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().isSameOrAfter(imports.moment(e.cancelDateTime).format('YYYY-MM-DD')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Diabetes' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Diabetes Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Diabetes' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "79008668-9943-4a95-b2c3-3f6686294192",
  "id" : 1291,
  "name" : "Total no. of patients for Diabetes.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Diabetes' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Diabetes'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Diabetes.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8107e159-5369-428d-ad64-3e4637430612",
  "id" : 1292,
  "name" : "Total no. of patients for Arthritis.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Arthritis' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Arthritis'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Arthritis.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6d5e93de-d417-4f8c-9c29-82ec516429f4",
  "id" : 1293,
  "name" : "Total no. of patients for COPD.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'COPD' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'COPD'  && enrolment.programExitDateTime == null))\n};",
  "description" : "",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "7242c61a-9996-402b-8583-644731365bfd",
  "id" : 1294,
  "name" : "No. of cancelled visits for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst canceledVisits= (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Tuberculosis' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'TB Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Tuberculosis' \n        && canceledVisits(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0532f87d-ebf9-4d59-8fc7-1a9e44c6d308",
  "id" : 1295,
  "name" : "Total no. of patients for Cancer.",
  "query" : "'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Cancer' and $enrolment.programExitDateTime = null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Cancer'  && enrolment.programExitDateTime == null))\n};",
  "description" : "Total no. of patients for Cancer.",
  "color" : "#093145",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "56846115-a55c-4fb6-b09a-925d852edd3d",
  "id" : 1296,
  "name" : "No. of deaths due to Heart Disease",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Heart Disease' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f3142e6c-de7f-4184-9365-e3e40585cb41",
  "id" : 1297,
  "name" : "Growth monitoring visits",
  "query" : "({params, imports}) => {\n    const ChildGrowth= (enrolment) => {\n        const ChildGrowthEnc = enrolment.getEncountersOfType('Growth Monitoring');\n        const ChildGrowthEncThisMonth = ChildGrowthEnc \n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return ChildGrowthEncThisMonth .length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && ChildGrowth(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "Number of visits scheduled for growth monitoring in the month",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8912ff1a-17d7-4524-bd24-91b165bdae63",
  "id" : 1298,
  "name" : "No. of deaths due to Arthritis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Arthritis' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "46e45568-0860-4f37-a91d-24f9e7c0d1e7",
  "id" : 1299,
  "name" : "Albendazole",
  "query" : "({params, imports}) => {\n    const Albenda = (enrolment) => {\n        const AlbendaEnc = enrolment.getEncountersOfType('Albendazole');\n        const AlbendaEncThisMonth = AlbendaEnc \n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY'));\n        return AlbendaEncThisMonth.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Albendazole' and $encounter.voided = false).@count > 0).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && Albenda(enrolment) && enrolment.programExitDateTime == null))\n};",
  "description" : "Number of visits Albendazole visits scheduled for the month",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "61cba681-abe9-4096-a000-06edd8d80095",
  "id" : 1300,
  "name" : "No. of referrals for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().format('YYYY-MM') == imports.moment(e.encounterDateTime).format('YYYY-MM'))\n    .value();\nvar ansArray = [];\ncurrentMonthEnc.forEach((e) => {\n    const status = e.getObservationReadableValue('Does patient require referral');\n    if (status) {\n        if (status == \"Yes\") {\n            ansArray.push('Yes');\n        }else {\n           ansArray.push('NO');\n        }\n    }\n   });\n              \n        return ansArray ? (!_.includes( ansArray,'NO') && !_.isEmpty(ansArray)) : false;\n    };\n\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Tuberculosis' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'TB Followup' and $encounter.voided = false and SUBQUERY($encounter.observations, $observation, $observation.concept.uuid = '7583d0ca-15c6-4e4a-9cd3-acfaca7e7b6d').@count > 0).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Tuberculosis' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a306c0ec-e784-4eaa-b7ba-b35345f8db77",
  "id" : 1301,
  "name" : "No of cancelled visits",
  "query" : "'use strict';\n({params, imports}) => {\n    const Phul = (enrolment) => {\n        const encounters = enrolment.getEncounters(false);\n         const cancelledEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.cancelDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.cancelDateTime).format('YYYY') && e.cancelDateTime != null && e.encounterDateTime === null\n    );\n        return cancelledEncounters.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && Phul(enrolment)))\n};",
  "description" : "Number of total visits canceled in the month",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "737e9151-69ef-4155-bbe2-396612d88e5d",
  "id" : 1302,
  "name" : "New patients for COPD",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'COPD'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "1caece16-d79e-47a3-b433-8e7fb6cc0ef8",
  "id" : 1303,
  "name" : "No. of deaths due to TB - INH Prophylaxis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'TB - INH Prophylaxis' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "bf31a98c-59a7-4ec9-a937-7b28be5f28e4",
  "id" : 1305,
  "name" : "No. of deaths due to Asthma",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Asthma' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "3f303c6c-39f1-4219-85a9-6fa41aa8144e",
  "id" : 1306,
  "name" : "New patients for Arthritis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Arthritis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "52e52939-3e95-4435-9c24-6137a1f76793",
  "id" : 1307,
  "name" : "New patients for Stroke",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Stroke'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.enrolmentDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#d3b53d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "d676d1f3-f587-4826-ad98-c9f9feb6c480",
  "id" : 1308,
  "name" : "No of Follow-up visits due for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst moment = imports.moment;\n  \nconst currentMonthReferralCheck = (enrolment) => {\n    const currentEnc = enrolment.scheduledEncountersOfType('TB followup');\n    \n    const currentMonthEnc = currentEnc\n    .filter((e) => moment().format('MMM') === moment(e.earliestVisitDateTime).format('MMM') &&\n    moment().format('YYYY') === moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null );\n    \n    return currentMonthEnc.length > 0 ? true : false;\n    \n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Tuberculosis' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'TB followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Tuberculosis' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f4cd4fe1-2bc5-4094-a07c-843ad7fd05db",
  "id" : 1309,
  "name" : "No. of deaths due to COPD",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'COPD' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "edb02b8a-6cb7-458c-bd73-e0db744e51f4",
  "id" : 1310,
  "name" : "Children in grade I",
  "query" : "'use strict';\n({params, imports}) => {\n    const GradeI= (enrolment) => {\n      let score = enrolment.findLatestObservationInEntireEnrolment('Weight for age Grade');\n      return !_.isNil(score) ? score.getValue() === 1 : false;\n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && GradeI(enrolment)))\n};",
  "description" : "Total number of Children in Grade I",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "0cdf349e-f990-41ce-81ea-a6daf40f0b87",
  "id" : 1311,
  "name" : "No. of deaths due to Epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Epilepsy' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a86fddc5-cf83-4f48-b7cd-47eeba6ee9b6",
  "id" : 1312,
  "name" : "No. of patients exited for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Tuberculosis'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "38bd2fd0-59b8-4c9b-b3a6-18772b276173",
  "id" : 1313,
  "name" : "No. of deaths due to Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Tuberculosis' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '8cc66da0-b652-4587-bdb8-ea8b8bd8f28c' and ($programExitObservation.valueJSON contains 'd5db8603-1099-4ae5-a8f2-12181753debe')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "eeef0262-c617-44ea-8c23-09de64e076a3",
  "id" : 1314,
  "name" : "No. of deaths due to Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`voided = false AND individual.voided = false AND program.name = 'Hypertension' and SUBQUERY(individual.enrolments.programExitObservations, $programExitObservation, $programExitObservation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($programExitObservation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#c02f1d",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "ea14603d-337f-44f4-aa1f-fc7dcde4d6d6",
  "id" : 1315,
  "name" : "No. of referrals for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().format('YYYY-MM') == imports.moment(e.encounterDateTime).format('YYYY-MM'))\n    .value();\nvar ansArray = [];\ncurrentMonthEnc.forEach((e) => {\n    const status = e.getObservationReadableValue('Patient requires referral');\n    if (status) {\n        if (status == \"Yes\") {\n            ansArray.push('Yes');\n        }else {\n           ansArray.push('NO');\n        }\n    }\n   });\n              \n        return ansArray ? (!_.includes( ansArray,'NO') && !_.isEmpty(ansArray)) : false;\n    };\n\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Hypertension Followup' and $encounter.voided = false and SUBQUERY($encounter.observations, $observation, $observation.concept.uuid = '2f331b4a-4a15-4b97-96ba-689c69000046').@count > 0).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "7ced3386-737d-478f-a871-34a218fbe2fc",
  "id" : 1316,
  "name" : "No. of completed visits for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment(imports.moment().format('YYYY-MM')).isSameOrBefore(imports.moment(e.encounterDateTime).format('YYYY-MM')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Diabetes' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Diabetes Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Diabetes' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#107896",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "3a0159bf-0f03-4a5a-bb05-f2c0a0983538",
  "id" : 1317,
  "name" : "No. of completed visits for Epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment(imports.moment().format('YYYY-MM')).isSameOrBefore(imports.moment(e.encounterDateTime).format('YYYY-MM')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Epilepsy followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#107896",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8b1a43fd-48e0-4e26-857d-8f95331931d6",
  "id" : 1318,
  "name" : "No. of patients exited for Epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    \n    return params.db.objects('Individual')\n    .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime != null and $enrolment.voided = false).@count > 0`)\n    .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy' && enrolment.programExitDateTime != null ))\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "01e23c94-c0be-4260-9bb9-5d06e5be44cf",
  "id" : 1319,
  "name" : "No. of patients exited for Cancer",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {    \n    return params.db.objects('ProgramEnrolment')\n    .filtered(`programExitDateTime != null and individual.voided = false and voided = false and program.name = 'Cancer'`)\n    .filter(enl => imports.moment().format('YYYY-MM') === imports.moment(enl.programExitDateTime).format('YYYY-MM'))\n    .map(enl => enl.individual)\n};",
  "description" : "",
  "color" : "#f26d21",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "3e30c318-c5e0-4cd4-bff9-ec93b2990dd3",
  "id" : 1320,
  "name" : "No. of completed visits for sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment(imports.moment().format('YYYY-MM')).isSameOrBefore(imports.moment(e.encounterDateTime).format('YYYY-MM')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Sickle cell' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Sickle cell followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Sickle cell' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#107896",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8b5a8d92-2261-4a54-b846-da202e4ea117",
  "id" : 1321,
  "name" : "No. of completed visits for Tuberculosis",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment(imports.moment().format('YYYY-MM')).isSameOrBefore(imports.moment(e.encounterDateTime).format('YYYY-MM')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Tuberculosis' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'TB followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Tuberculosis' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#107896",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "84d0fc77-9d5b-4a63-9587-c02c73972aef",
  "id" : 1322,
  "name" : "No. of referrals for epilepsy",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment().format('YYYY-MM') == imports.moment(e.encounterDateTime).format('YYYY-MM'))\n    .value();\nvar ansArray = [];\ncurrentMonthEnc.forEach((e) => {\n    const status = e.getObservationReadableValue('Does patient require referral');\n    if (status) {\n        if (status == \"Yes\") {\n            ansArray.push('Yes');\n        }else {\n           ansArray.push('NO');\n        }\n    }\n   });\n              \n        return ansArray ? (!_.includes( ansArray,'NO') && !_.isEmpty(ansArray)) : false;\n    };\n\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Epilepsy followup' and $encounter.voided = false and SUBQUERY($encounter.observations, $observation, $observation.concept.uuid = '7583d0ca-15c6-4e4a-9cd3-acfaca7e7b6d').@count > 0).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#1496bb",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "44ccb000-c6b0-4614-9bed-0fd604aaef27",
  "id" : 1323,
  "name" : "No of follow up visits completed",
  "query" : "'use strict';\n({params, imports}) => {\n    const Phul = (enrolment) => {\n        const encounters = enrolment.getEncounters(true);\n         const completedEncounters = encounters\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.encounterDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.encounterDateTime).format('YYYY') && e.cancelDateTime === null && e.encounterDateTime != null\n    );\n        return completedEncounters.length > 0 ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && Phul(enrolment)))\n};",
  "description" : "Total number of follow-up visits completed in the month",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "8dc59921-c018-4f49-9614-cb0ad048f0ad",
  "id" : 1324,
  "name" : "No. of completed visits for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentMonthEnc = _.chain(enrolment.getEncounters(true))\n    .filter((e) => imports.moment(imports.moment().format('YYYY-MM')).isSameOrBefore(imports.moment(e.encounterDateTime).format('YYYY-MM')))\n    .value();\n\n        return !_.isEmpty(currentMonthEnc)\n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Hypertension Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#107896",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "9c72eb10-84f6-4aee-8c6e-4a42ba83e874",
  "id" : 1325,
  "name" : "No of Follow-up visits due for Diabetes",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst moment = imports.moment;\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentEnc = enrolment.scheduledEncountersOfType('Diabetes Followup');\n    \n    const currentMonthEnc = currentEnc\n    .filter((e) => moment().format('MMM') === moment(e.earliestVisitDateTime).format('MMM') &&\n    moment().format('YYYY') === moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null );\n    \n    return currentMonthEnc.length > 0 ? true : false;\n    \n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Diabetes' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Diabetes Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Diabetes' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "2ffcd69b-ca50-4f51-b041-32c6c27e9bab",
  "id" : 1326,
  "name" : "No of Follow-up visits due for Epilepsy followup",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst moment = imports.moment;\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentEnc = enrolment.scheduledEncountersOfType('Epilepsy followup');\n    \n    const currentMonthEnc = currentEnc\n    .filter((e) => moment().format('MMM') === moment(e.earliestVisitDateTime).format('MMM') &&\n    moment().format('YYYY') === moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null );\n    \n    return currentMonthEnc.length > 0 ? true : false;\n    \n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Epilepsy' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Epilepsy followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Epilepsy' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "c969cd59-f044-462a-86f7-6ddaa044e7c2",
  "id" : 1327,
  "name" : "No of Follow-up visits due for sickle cell",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst moment = imports.moment;\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentEnc = enrolment.scheduledEncountersOfType('Sickle cell followup');\n    \n    const currentMonthEnc = currentEnc\n    .filter((e) => moment().format('MMM') === moment(e.earliestVisitDateTime).format('MMM') &&\n    moment().format('YYYY') === moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null );\n    \n    return currentMonthEnc.length > 0 ? true : false;\n    \n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Sickle cell' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Sickle cell followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Sickle cell' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "64b11b19-c8ec-4be7-8863-112cea42bc3d",
  "id" : 1328,
  "name" : "No of Follow-up visits due for Hypertension",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n\n'use strict';\n({params, imports}) => {\nconst _ = imports.lodash;\nconst moment = imports.moment;\n\nconst currentMonthReferralCheck = (enrolment) => {\n    const currentEnc = enrolment.scheduledEncountersOfType('Hypertension Followup');\n    \n    const currentMonthEnc = currentEnc\n    .filter((e) => moment().format('MMM') === moment(e.earliestVisitDateTime).format('MMM') &&\n    moment().format('YYYY') === moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null );\n    \n    return currentMonthEnc.length > 0 ? true : false;\n    \n    };\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Hypertension' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Hypertension Followup' and $encounter.voided = false ).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false  && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Hypertension' \n        && currentMonthReferralCheck(enrolment)\n        ))\n};",
  "description" : "",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "7a87002b-4d06-441d-988a-0e872090744e",
  "id" : 1329,
  "name" : "PNC visits due",
  "query" : "'use strict';\n({params, imports}) => {\n    const child = (enrolment) => {\n        const pncENC= enrolment.scheduledEncountersOfType('Child PNC');\n        const motherPncENC= enrolment.scheduledEncountersOfType('Mother PNC');\n        \n         const childPNCEncThisMonth = pncENC\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.earliestVisitDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null\n    );\n        const motherPNCEncThisMonth = motherPncENC\n    .filter((e) => imports.moment().format('MMM') === imports.moment(e.earliestVisitDateTime).format('MMM') &&\n    imports.moment().format('YYYY') === imports.moment(e.earliestVisitDateTime).format('YYYY') &&\n    e.cancelDateTime === null && e.encounterDateTime === null\n    );\n       \n        return (childPNCEncThisMonth.length > 0 || motherPNCEncThisMonth.length > 0) ? true : false;\n    };\n    \n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.cancelDateTime = null and  $encounter.voided = false).@count > 0).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => child(enrolment)))\n};",
  "description" : "No of PNC visits scheduled for month and not completed for child and pregnancy program",
  "color" : "#93a661",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "f0d443ab-054b-45d6-bb14-b944cb31499c",
  "id" : 1269,
  "name" : "No of maternal deaths",
  "query" : "'use strict';\n({params, imports}) => {\n    const moment = imports.moment;\n\n    const dateOfDeath = (enrolment) => {\n        const dateOfMaternalDeathFromExit = enrolment.findExitObservation('Date of Death');\n        if (moment().format('MM-YYYY') === moment(dateOfMaternalDeathFromExit).format('MM-YYYY')) {\n            return true;\n        }\n    }\n\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Pregnancy' and  SUBQUERY($enrolment.programExitObservations, $observation, $observation.concept.uuid = '9518f70d-351a-44f0-b3f8-9af412db74af' and ($observation.valueJSON contains 'c125eec0-2bc4-4add-b1d0-7531e5ffa9c8')).@count > 0 and $enrolment.voided = false and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Pregnancy' && dateOfDeath(enrolment) && enrolment.programExitDateTime != null))\n};",
  "description" : "No of maternal deaths recorded within the month",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "e3ab6f53-5fae-43fd-be42-ae295eafaa61",
  "id" : 1286,
  "name" : "No of children - gained grade",
  "query" : "'use strict';\n({params, imports}) => {\n    const GradeGained= (enrolment) => {\n\n       const latestEncounter1 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(0)\n            .value();\n\n       const latestEncounter2 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(1)\n            .value();\n            \n            if(!_.isNil(latestEncounter1) && !_.isNil(latestEncounter2)){\n\n         const enc1Value = latestEncounter1.getObservationReadableValue('Weight for age Grade');\n\n       const enc2Value = latestEncounter2.getObservationReadableValue('Weight for age Grade');\n\n       return (enc2Value > enc1Value); \n       }\n       else          \n    return false;\n    \n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && GradeGained(enrolment)))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "3782cd68-addc-4490-b41f-80dc32f5cd2e",
  "id" : 1257,
  "name" : "No of children went into lower grade",
  "query" : "'use strict';\n({params, imports}) => {\n    const LowerGrade= (enrolment) => {\n       const latestEncounter1 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(0)\n            .value();\n\n       const latestEncounter2 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(1)\n            .value();\n            if(!_.isNil(latestEncounter1) && !_.isNil(latestEncounter2)){\n         const enc1Value = latestEncounter1.getObservationReadableValue('Weight for age Grade');\n       const enc2Value = latestEncounter2.getObservationReadableValue('Weight for age Grade');\n       return (enc1Value < enc2Value); \n       }\n       else          \n    return false;\n    \n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && LowerGrade(enrolment)))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "de331278-bb9a-43fa-9226-c9b08bcce400",
  "id" : 1244,
  "name" : "No of children in the same grade",
  "query" : "'use strict';\n({params, imports}) => {\n    const SameGrade= (enrolment) => {\n       const latestEncounter1 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(0)\n            .value();\n\n       const latestEncounter2 = _.chain(enrolment.getEncountersOfType('Growth Monitoring'))\n            .filter((e) => e.encounterDateTime)\n            .sortBy((e) => e.encounterDateTime, 'desc')\n            .nth(1)\n            .value();\n            if(!_.isNil(latestEncounter1) && !_.isNil(latestEncounter2)){\n            \n         const enc1Value = latestEncounter1.getObservationReadableValue('Weight for age Grade');\n         const enc2Value = latestEncounter2.getObservationReadableValue('Weight for age Grade');\n\n           return (enc2Value == enc1Value);\n       }\n       else          \n    return false;\n    \n    };\n    return params.db.objects('Individual')\n        .filtered(`SUBQUERY(enrolments, $enrolment, $enrolment.program.name = 'Phulwari' and $enrolment.programExitDateTime = null and $enrolment.voided = false and SUBQUERY($enrolment.encounters, $encounter, $encounter.encounterType.name = 'Growth Monitoring' and $encounter.voided = false).@count > 0 and voided = false).@count > 0`)\n        .filter((individual) => individual.voided === false && _.some(individual.enrolments, enrolment => enrolment.program.name === 'Phulwari' && SameGrade(enrolment)))\n};",
  "description" : "",
  "color" : "#ff0000",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "6c362eb2-b939-4507-97bc-c200dc4123d6",
  "id" : 6506,
  "name" : "Cluster Coordinator Follow-Up Overdue",
  "description" : "",
  "color" : "#c1e1ef",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "004fb6af-5ff2-46ea-8079-6df59c246e4a" ],
  "voided" : false
}, {
  "uuid" : "47c3ad25-a393-4e11-a187-21b0278b1ef2",
  "id" : 6507,
  "name" : "MCH followup Due",
  "description" : "",
  "color" : "#f3dacc",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "43008222-ad5a-4dae-a054-a488797ad63e" ],
  "voided" : false
}, {
  "uuid" : "cc2607a5-46d8-4789-9260-f7ce5f54869a",
  "id" : 6508,
  "name" : "MCH followup Overdue",
  "description" : "",
  "color" : "#c1e1ef",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "43008222-ad5a-4dae-a054-a488797ad63e" ],
  "voided" : false
}, {
  "uuid" : "facb8146-8359-44a8-a6db-4f45e72b5da7",
  "id" : 6509,
  "name" : "Cluster Coordinator Follow-Up Due",
  "description" : "",
  "color" : "#f3dacc",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "004fb6af-5ff2-46ea-8079-6df59c246e4a" ],
  "voided" : false
}, {
  "uuid" : "761a896d-ab95-4abb-8da1-bf81997b9b80",
  "id" : 6510,
  "name" : "VHW followup Due",
  "description" : "",
  "color" : "#f3dacc",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "71e1f484-ed45-41d6-b80b-2c5d94122aa6" ],
  "voided" : false
}, {
  "uuid" : "26683461-d381-4a99-ae24-702bec4928a0",
  "id" : 6511,
  "name" : "PPMC Due(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    \n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        } */\n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n    else {\n        customQuery += ` AND earliestVisitDateTime <= $0`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'PPMC'\n            AND maxVisitDateTime >= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#5A8DA5",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "a2332a12-1d46-445a-83bc-7823a83c22ab",
  "id" : 6512,
  "name" : "Village Round Due(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    \n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        }*/\n        \n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    } else {\n        customQuery += ` AND earliestVisitDateTime <= $0`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'Village Round'\n            AND maxVisitDateTime >= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#5A8DA5",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "c91aeef0-964e-4b35-8cdf-bd34e92878b4",
  "id" : 6513,
  "name" : "PPMC Overdue(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        } */\n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'PPMC'\n            AND maxVisitDateTime < $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#A5725A",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "2731418c-b7ec-4a14-9e16-16b5bc77b1b1",
  "id" : 6514,
  "name" : "Eligible couple followup Due(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    // let dateRange = {\n    //     minValue: null,\n    //     maxValue: null\n    // };\n\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        // const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        // if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n        //     dateRange = {\n        //         minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n        //         maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n        //     }\n        // } \n\n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `programEnrolment.individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n    else {\n        customQuery += ` AND earliestVisitDateTime <= $0`\n    }\n\n return params.db.objects('ProgramEncounter')\n        .filtered(`\n            programEnrolment.individual.voided = false AND \n            programEnrolment.voided = false AND \n            programEnrolment.program.name = 'Eligible couple' AND \n            programEnrolment.programExitDateTime = null AND \n            voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'Eligible Couple Follow-up'\n            AND maxVisitDateTime >= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.programEnrolment.individual);\n};",
  "description" : "",
  "color" : "#f1c093",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "cc4312ee-1238-438d-9b9a-683b64cf8220",
  "id" : 6515,
  "name" : "VHW followup Overdue(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        } */\n        \n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        } \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'VHW Followup'\n            AND maxVisitDateTime < $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#A5725A",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "87438bc2-3017-4e16-a237-4c9823b2436b",
  "id" : 6516,
  "name" : "HBNC Due(do not use it)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        }*/\n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    } else {\n        customQuery += ` AND earliestVisitDateTime <= $0`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'HBNC'\n            AND maxVisitDateTime >= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#5A8DA5",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "37795f58-cd9e-440e-b238-410c86bc387b",
  "id" : 6517,
  "name" : "VHW followup Due(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"RegistrationDate\");\n        console.log('dateRangeFilter---->',dateRangeFilter);\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        }*/\n        \n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        } \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    } else {\n        customQuery += ` AND earliestVisitDateTime <= $0`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'VHW Followup'\n            AND maxVisitDateTime >= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#5A8DA5",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "3867515d-3713-4a81-be86-540a647ff78b",
  "id" : 6518,
  "name" : "HBNC Overdue(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        }*/\n        \n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }   \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'HBNC'\n            AND maxVisitDateTime < $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#A5725A",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "5db9d228-c9ac-42ae-be9e-c1f61edb8401",
  "id" : 6519,
  "name" : "Subcenter Follow-Up Due",
  "description" : "",
  "color" : "#f3dacc",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "842b56ee-f47f-4456-a68f-90c72f6a6777" ],
  "voided" : false
}, {
  "uuid" : "2b95c207-a2c9-421d-9c07-5d21609697c0",
  "id" : 6520,
  "name" : "Subcenter Follow-Up Overdue",
  "description" : "",
  "color" : "#c1e1ef",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "842b56ee-f47f-4456-a68f-90c72f6a6777" ],
  "voided" : false
}, {
  "uuid" : "0dccda94-3fab-4dca-ad86-c1b377a3e0e5",
  "id" : 6521,
  "name" : "Eligible couple followup Overdue(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    // let dateRange = {\n    //     minValue: null,\n    //     maxValue: null\n    // };\n\n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        // const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        // if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n        //     dateRange = {\n        //         minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n        //         maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n        //     }\n        // } \n\n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `programEnrolment.individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n\n return params.db.objects('ProgramEncounter')\n        .filtered(`\n            programEnrolment.individual.voided = false AND \n            programEnrolment.voided = false AND \n            programEnrolment.program.name = 'Eligible couple' AND \n            programEnrolment.programExitDateTime = null AND \n            voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime = null\n            AND encounterType.name = 'Eligible Couple Follow-up'\n            AND maxVisitDateTime <= $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.programEnrolment.individual);\n};",
  "description" : "",
  "color" : "#f3e8a0",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "cd92d6f0-17aa-457c-8ec2-234e7d7cc269",
  "id" : 6522,
  "name" : "HBNC Due",
  "description" : "",
  "color" : "#efd4d4",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "d5c65fe7-2cb8-48e4-9cdc-a1e65ee1903c" ],
  "voided" : false
}, {
  "uuid" : "7df9ad0f-482b-486a-9bc0-aa7dce919053",
  "id" : 6523,
  "name" : "HBNC Overdue",
  "description" : "",
  "color" : "#ece6c1",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "d5c65fe7-2cb8-48e4-9cdc-a1e65ee1903c" ],
  "voided" : false
}, {
  "uuid" : "5310ac22-33a6-482f-a7e6-e52a000bf5f0",
  "id" : 6524,
  "name" : "PPMC Due",
  "description" : "",
  "color" : "#baefe5",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "d2910995-c9cf-4399-8163-b5eba7d15de9" ],
  "voided" : false
}, {
  "uuid" : "6a0b52b6-aa6b-45d6-ac22-afc56c017a06",
  "id" : 6525,
  "name" : "Eligible couple followup Due",
  "description" : "",
  "color" : "#f0e3c3",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ "d5048f5c-6bb9-4028-b3b3-4f75fcd122ed" ],
  "standardReportCardInputEncounterTypes" : [ "2b88e964-9f34-4e20-99ad-cad1418e4f68" ],
  "voided" : false
}, {
  "uuid" : "6c5b384b-1834-489d-af30-e6912bc15139",
  "id" : 6526,
  "name" : "Eligible couple followup Overdue",
  "description" : "",
  "color" : "#c3beed",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ "d5048f5c-6bb9-4028-b3b3-4f75fcd122ed" ],
  "standardReportCardInputEncounterTypes" : [ "2b88e964-9f34-4e20-99ad-cad1418e4f68" ],
  "voided" : false
}, {
  "uuid" : "3372e69c-3c69-44a3-bf36-61132a1284c1",
  "id" : 6527,
  "name" : "Village Round Due",
  "description" : "",
  "color" : "#e8a2dd",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "27020b32-c21b-43a4-81bd-7b88ad3a6ef0",
  "standardReportCardInputSubjectTypes" : [ "a2eee202-b440-4120-ada1-f3a820820f9c" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "c5c5bef9-4d90-45d8-a631-0382451b7f5b" ],
  "voided" : false
}, {
  "uuid" : "7060a567-7768-4778-b7c2-273dc5db905a",
  "id" : 6528,
  "name" : "Village Round Overdue(Do not use)",
  "query" : "// Documentation - https://docs.mongodb.com/realm-legacy/docs/javascript/latest/index.html#queries\n'use strict';\n({params, imports}) => {\n    var today = new Date();\n    let customQuery = 'voided = false'\n    let addressValue = null;\n    /*let dateRange = {\n        minValue: null,\n        maxValue: null\n    };*/\n    \n    let minDateValue = null;\n    let maxDateValue = null;\n\n    if (params.ruleInput) {\n        let addressFilter = params.ruleInput.filter(rule => rule.type == \"Address\");\n\n        if (addressFilter.length > 0 && addressFilter[0].filterValue) {\n            addressValue = addressFilter[0].filterValue.filter((add) => add.type == \"Village\").map(add => add.uuid);\n        }\n        \n        /*const dateRangeFilter = params.ruleInput.filter(rule => rule.dataType == \"Range\");\n        if(dateRangeFilter.length > 0 && dateRangeFilter[0].filterValue) {\n            dateRange = {\n                minValue: new Date(dateRangeFilter[0].filterValue.minValue),\n                maxValue: new Date(dateRangeFilter[0].filterValue.maxValue)\n            }\n        } */\n        \n        let rangeDateFilter = params.ruleInput.filter(rule => rule.type == \"RegistrationDate\");\n        if (rangeDateFilter.length > 0 && rangeDateFilter[0].filterValue) {\n            let minDateInput = new Date(rangeDateFilter[0].filterValue.minValue);\n            let maxDateInput = new Date(rangeDateFilter[0].filterValue.maxValue);\n            \n            minDateValue = new Date(minDateInput.getFullYear(), minDateInput.getMonth(), minDateInput.getDate(), 0, 0, 0, 0);\n            maxDateValue = new Date(maxDateInput.getFullYear(), maxDateInput.getMonth(), maxDateInput.getDate(), 23, 59, 59, 999);\n        }  \n    }\n\n    if (addressValue != null) {\n        let output = `{${addressValue.map(item => `'${item}'`).join(', ')}}`;\n        customQuery = `individual.lowestAddressLevel.uuid IN ${output}`;\n    }\n\n    if(minDateValue && maxDateValue) {\n        customQuery += ` AND earliestVisitDateTime >= $1 AND earliestVisitDateTime <= $2`\n    }\n\n    return params.db.objects('Encounter')\n        .filtered(`\n            voided = false\n            AND individual.voided = false\n            AND encounterDateTime = null\n            AND earliestVisitDateTime <> null\n            AND cancelDateTime == null\n            AND encounterType.name = 'Village Round'\n            AND maxVisitDateTime < $0\n            AND ${customQuery}\n        `, today, minDateValue, maxDateValue)\n        .map((enc) => enc.individual);\n};",
  "description" : "",
  "color" : "#A5725A",
  "nested" : false,
  "count" : 1,
  "standardReportCardInputSubjectTypes" : [ ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ ],
  "voided" : false
}, {
  "uuid" : "076a532b-f709-4f6b-9357-dc1dd5a170c7",
  "id" : 6529,
  "name" : "PPMC Overdue",
  "description" : "",
  "color" : "#b3d0ea",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "c3e43b29-2a63-49bf-870b-8365d2dd9251" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "d2910995-c9cf-4399-8163-b5eba7d15de9" ],
  "voided" : false
}, {
  "uuid" : "38e91f05-17a2-4445-b98a-efde47c8ac00",
  "id" : 6530,
  "name" : "Village Round Overdue",
  "description" : "",
  "color" : "#edb2b5",
  "nested" : false,
  "count" : 1,
  "standardReportCardType" : "9f88bee5-2ab9-4ac4-ae19-d07e9715bdb5",
  "standardReportCardInputSubjectTypes" : [ "a2eee202-b440-4120-ada1-f3a820820f9c" ],
  "standardReportCardInputPrograms" : [ ],
  "standardReportCardInputEncounterTypes" : [ "c5c5bef9-4d90-45d8-a631-0382451b7f5b" ],
  "voided" : false
} ]